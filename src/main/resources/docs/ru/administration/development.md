---
title: Разработка
---

Поскольку в проекте используется Maven, то можно использовать следущий алгоритм действий для настройки среды разработки :

#### Настройка окружения и клиентской части

Установить платформу lsFusion для разработки за исключением серверной части (Server), как указано по ссылке https://docs.lsfusion.org/ru/Development_auto/.

В качестве пароля для PostgreSQL желательно использовать 11111.

#### Настройка серверной части

1. Сделать Get from VCS в стартовом меню или Git / Clone, используя в качестве источника https://github.com/lsfusion-solutions/mycompany.git .
2. Дождаться пока IntelliJ IDEA создаст проект и скачает при помощи Maven все зависимости (может занять несколько минут).
3. Проверить, что был успешно найден Java Development Kit. Для этого нужно зайти в форму File / Project Structure и проверить, что установлено поле Project / SDK.
4. Создать конфигурацию для запуска сервера lsFusion. Для этого нужно в форме Run / Edit Configurations нажать кнопку **+**, а затем выбрать lsFusion Server. Проверить, что Working Directory указывает на папку, в которой находится pom.xml.
5. Добавить в файл settings.properties строку `logics.topModule = MyCompanyRu` .
6. Запустить сервер через пункт меню Run / Run `<имя конфигурации>`.

#### Сборка jar-файла для выполнения на сервере

После внесения изменений в исходный код приложения для сборки итогового jar-файла необходимо :

1. В форме File / Project Structure нужно зайти в пункт Artifacts и нажать кнопку **+** и выбрать Jar / Empty project.
2. В поле Output Directory выбрать каталог, в который нужно будет поместить собранный jar-файл.
3. Из списка Available Elements перенести в jar файл элемент 'mycompany' compile output. Затем нажать ОК.
4. Затем в пункте меню выбрать Build / Build artifacts. Дальше выбрать пункт Build.

Собранным файлом можно заместить старый файл, находящийся на сервере в папке /var/lib/lsfusion или C:\Program Files\lsFusion 6\Server\lib, и перезапустить службу на сервере.

### Добавление новых модулей на сервере

При необходимости подключать новые модули можно не при помощи jar-файлов, а просто добавляя новые файлы в classpath. Последовательность действий в этом случае следующая :

1. Создаем, например, новый модуль MyCompanyCustom.lsf, который зависит от модуля MyCompanyRu, и помещаем его в директорий /var/lib/lsfusion.
2. Изменяем верхний модуль приложения. Для этого в файле /etc/lsfusion6-server/settings.properties меняем (или добавляем) параметр  `logics.topModule = MyCompanyCustom` .
3. Перезапускаем службу сервера (как описано выше).
4. Если нужно подключить дополнительные модули, то помещаем их также в папку /var/lib/lsfusion, и добавляем их в REQUIRE модуля MyCompanyCustom.

Пример модуля MyCompanyCustom :

```
MODULE MyCompanyCustom;

REQUIRE MyCompanyRu;

<новый код>
```