---
title: Отгрузки и перемещения
---

## Где находится

Откройте раздел **«Склад» → «Операции» → «Отгрузки»**.

## Назначение

Документ «Отгрузка» используется для:

- списания товара из [места хранения](locations.md) (обычная отгрузка);
- перемещения товара между [местами хранения](locations.md) (если выбран тип с признаком «перемещение»).

Одна и та же форма используется и для отгрузок, и для перемещений — поведение зависит от выбранного **типа**.

## Список отгрузок

В списке обычно видны:

- номер;
- плановая дата и время;
- тип;
- контрагент (для обычной отгрузки);
- [место хранения](locations.md)‑источник и (для перемещений) место хранения‑назначение;
- примечание;
- количество строк.

### Вкладка «Итого» в списке

Если в списке **отметить** одну или несколько отгрузок, появляется вкладка **«Итого»**.

Назначение вкладки:

- показать список товаров, которые встречаются в отмеченных отгрузках;
- показать по каждому товару сумму **планируемого количества** по отмеченным документам;
- дать возможность быстро скорректировать планируемое количество сразу по нескольким отгрузкам.

Как устроено редактирование:

- на вкладке отображается таблица, где **строки** — это товары, а **колонки** — отмеченные отгрузки;
- в ячейках можно **редактировать планируемое количество** для соответствующей отгрузки и товара;
- редактирование доступно только для отгрузок в статусах **«Черновик»** или **«В ожидании»**; для остальных статусов значения доступны только для просмотра.

Дополнительно на вкладке показываются подсказки по остаткам в [месте хранения](locations.md)‑источнике и подсветка, если суммарное планируемое количество превышает доступный остаток.

## Карточка отгрузки

### Шапка документа

В шапке отгрузки обычно указываются:

- **Тип** — влияет на нумерацию, [места хранения](locations.md) по умолчанию и ограничения;
- **Плановая дата**;
- **Номер**;
- **Контрагент** (для обычной отгрузки);
- **[Место хранения](locations.md)‑источник** — обязательное поле;
- **[Место хранения](locations.md)‑назначение** — обязательное поле для перемещения;
- **Адрес доставки** (если используется);
- **Ссылка покупателя** (если используется);
- **Примечание**.

#### Отгрузка или перемещение

Тип отгрузки может быть отмечен как **«Перемещение»** (то есть у типа включён признак «Перемещение»). В этом случае:

- контрагент может не использоваться;
- становится обязательным заполнение места хранения‑назначения;
- система не позволит выбрать одинаковые место хранения‑источник и место хранения‑назначение.

### Строки отгрузки

В строках фиксируется:

- **Номенклатура**;
- **Единица измерения**;
- **Штрихкод**, **внутренний код**, **ссылка/артикул** (если используются);
- **Планируемое кол-во** (см. ниже).

#### Поле «Планируемое кол-во»

Для отгрузок, которые не выполняются немедленно, в строке используется поле **«Планируемое кол-во»**:

- это планируемое количество к отгрузке по строке;
- поле может подсвечиваться в черновике.

Ограничение:

- значение должно быть в диапазоне от `0` до **максимального количества**, указанного в типе отгрузки;
- если превышено, документ не сохранится.

#### Ограничение «одна строка на один товар»

Для некоторых типов отгрузок может быть включено правило:

- один и тот же товар нельзя добавить двумя строками.

## Статусы (точно по исходному коду)

Ниже приведён **точный набор статусов**, который следует из исходного кода.

1. **Черновик** — ввод данных.
2. **В ожидании** — документ отмечен к обработке (из черновика) и ожидает обеспечения.
3. **В работе** — обеспечено наличие/резервирование по строкам.
4. **Выполнен** — факт отгрузки подтверждён, фиксируется дата выполнения.
5. **Принят** — подтверждение приёмки в месте хранения‑назначении.
   - этот статус используется, когда для перемещения требуется подтверждение приёмки;
   - после статуса «Выполнен» появляется возможность выполнить действие подтверждения приёмки.
6. **Отменен** — документ отменён.

Важно: отдельного статуса «Сборка» в перечислении статусов нет. «Сборка» реализована как режим работы по местам хранения для типов отгрузки с включённым признаком сборки (см. ниже).

## Проверка наличия и резервирование

Перед выполнением отгрузки обычно выполняется проверка наличия по строкам.

Если в системе включено резервирование:

- часть количества может быть зарезервирована под отгрузку;
- если товара не хватает, отгрузка остаётся в ожидании/готовности до поступления.

## Сборка (отбор)

Если включены задания на сборку:

- отгрузка переводится в этап сборки;
- формируются задания для кладовщика;
- по выполненным заданиям фиксируется факт отобранного количества.

Подробности см. [Задания на сборку](picking.md).

### Сборка по местам хранения (режим типа отгрузки)

В исходном коде предусмотрен признак типа отгрузки, который включает подбор/отбор по конкретным местам хранения.

Как это выглядит для пользователя:

- в карточке отгрузки появляется вкладка «Сборка»;
- по каждой строке можно видеть доступность и резерв в разрезе мест хранения (включая вложенные места);
- можно указывать, из каких мест хранения фактически отгружается количество.

При этом статус документа остаётся одним из перечисленных выше (например, «В ожидании», «В работе», «Выполнен»).

## Типовые проблемы

- **Не удаётся сохранить строку** — значение «Планируемое кол-во» выходит за пределы, заданные в типе отгрузки.
- **Не удаётся добавить товар второй строкой** — для типа отгрузки включено правило «одна строка на один товар».
- **Не удаётся перевести в выполнение** — не хватает доступного остатка или не выполнена сборка.
- **Не удаётся создать перемещение** — выбрано одинаковое место хранения‑источник и место хранения‑назначение.